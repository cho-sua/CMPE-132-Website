{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
    <h3 class="mt-4">Available Books</h3>
    <div class="scrollable border rounded p-3" style="max-height: 300px; overflow-y: auto;">
        {% if availableBooks %}
            {% for book in availableBooks %}
            <div class="d-flex justify-content-between align-items-center border-bottom py-2">
                <div>
                    <strong>{{ book.title }}</strong> by {{ book.author }}
                    <br>
                    <small>ISBN: {{ book.isbn }}</small> |
                    <small>Copies: {{ book.copies }}</small> |
                    <small>Restricted: {{ book.restricted }}</small>
                </div>
                {% if book.copies > 0 %}
                    <a href="{{ url_for('views.borrowBook', isbn=book.isbn) }}" class="btn btn-primary btn-sm">Borrow</a>
                {% else %}
                    <button class="btn btn-secondary btn-sm" disabled>Unavailable</button>
                {% endif %}
            </div>
            {% endfor %}
        {% else %}
            <p>No books available.</p>
        {% endif %}
    </div>

    <h3 class="mt-5">My Borrowed Books</h3>
    <div class="scrollable border rounded p-3" style="max-height: 300px; overflow-y: auto;">
        {% if myBooks %}
            {% for book in myBooks %}
            <div class="d-flex justify-content-between align-items-center border-bottom py-2">
                <div>
                    <strong>{{ book.title }}</strong><br>
                    <small>ISBN: {{ book.isbn }}</small>
                </div>
                <a href="{{ url_for('views.returnBook', isbn=book.isbn) }}" class="btn btn-warning btn-sm">Return</a>
            </div>
            {% endfor %}
        {% else %}
            <p>You have not borrowed any books yet.</p>
        {% endif %}
    </div>
</div>
{% endblock %}